comment:
  layout: "diff, flags, files, header, footer"
  behavior: default

flags:
  contracts:
    paths:
      - contracts/src/
    carryforward: true
  client:
    paths:
      - client/src/
    carryforward: true
  indexer:
    paths:
      - indexer/src/
      - indexer/indexers/
    carryforward: true
  api:
    paths:
      - api/src/
    carryforward: true

coverage:
  range: 60..100
  status:
    project:
      contracts:
        target: auto
        flags:
          - contracts
      client:
        target: 60%
        flags:
          - client
      indexer:
        target: 60%
        flags:
          - indexer
      api:
        target: 60%
        flags:
          - api
    patch:
      default:
        target: 90%
        threshold: 4%
        flags:
          - contracts
      client:
        target: 60%
        threshold: 4%
        flags:
          - client
      indexer:
        target: 60%
        threshold: 4%
        flags:
          - indexer
      api:
        target: 60%
        threshold: 4%
        flags:
          - api

ignore:
  # Test files
  - "**/tests/**"
  - "**/*.test.ts"
  - "**/*.test.tsx"
  - "**/scripts/**"
  - "**/coverage/**"
  - "**/dist/**"
  - "**/*.d.ts"
  - "**/vite.config.ts"
  - "**/vitest.config.ts"

  # Infrastructure & configuration
  - ".github/"
  - ".devcontainer/"
  - "data-snapshot/"

  # Generated artifacts & non-source assets
  - "**/assets/**"
  - "contracts/gas_reports/"

github_checks:
  annotations: false
